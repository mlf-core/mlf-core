

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mlflow-xgboost &mdash; mlf-core 1.7.7 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_cookietemple.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> mlf-core
          

          
          </a>

          
            
            
              <div class="version">
                1.7.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">mlf-core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">General Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../create.html">Create a project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../list_info.html">Getting information about available templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lint.html">Linting your project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fix_artifact_paths.html">Fixing the paths of locally saved MLflow runs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bump_version.html">Bumping the version of an existing project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sync.html">Syncing your project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configure mlf-core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade.html">Upgrade mlf-core</a></li>
<li class="toctree-l1"><a class="reference internal" href="available_templates.html">Available templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../github_support.html">Github Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_releases.html">Creating Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adding_new_templates.html">Adding new templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code_of_conduct.html">Contributor Covenant Code of Conduct</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mlf-core</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>mlflow-xgboost</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/available_templates/mlflow_xgboost.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mlflow-xgboost">
<h1>mlflow-xgboost<a class="headerlink" href="#mlflow-xgboost" title="Permalink to this headline">¶</a></h1>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>mlflow-xgboost is a <a class="reference external" href="https://mlflow.org/">MLflow</a> based template designed for <a class="reference external" href="https://xgboost.readthedocs.io">XGBoost</a> machine learning models.
The project is fully CPU and GPU deterministic with <a class="reference external" href="https://github.com/mlf-core/system-intelligence">system-intelligence</a> integration.
Additionally, Conda and Docker are supported out of the box.</p>
</div>
<div class="section" id="design">
<h2>Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h2>
<p>The package follows the mlf-core convention of a single environment.yml file in conjunction with an mlf-core based Dockerfile.
As required a MLproject file serves as entry point and parameter definition.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>├── AUTHORS.rst
├── .bandit.yml
├── CHANGELOG.rst
├── CODE_OF_CONDUCT.rst
├── Dockerfile
├── docs
│   ├── authors.rst
│   ├── changelog.rst
│   ├── code_of_conduct.rst
│   ├── conf.py
│   ├── index.rst
│   ├── make.bat
│   ├── Makefile
│   ├── model.rst
│   ├── readme.rst
│   ├── requirements.txt
│   ├── _static
│   │   └── custom_cookietemple.css
│   └── usage.rst
├── .editorconfig
├── environment.yml
├── exploding_springfield
│   ├── data_loading
│   │   ├── data_loader.py
│   ├── exploding_springfield.py
│   ├── mlf_core
│   │   ├── mlf_core.py
├── .flake8
├── .github
│   ├── ISSUE_TEMPLATE
│   │   ├── bug_report.md
│   │   ├── feature_request.md
│   │   ├── general_question.md
│   │   └── sync_notify.md
│   ├── pull_request_template.md
│   └── workflows
│       ├── build_docs.yml
│       ├── mlf_core_lint.yml
│       ├── pr_to_master_from_patch_release_only.yml
│       ├── run_bandit.yml
│       ├── run_flake8_linting.yml
│       ├── sync.yml
│       └── train_cpu.yml
│       └── publish_docker.yml
├── .gitignore
├── LICENSE
├── mlf_core.cfg
├── .mlf_core.yml
├── MLproject
├── README.rst
└── .readthedocs.yml
</pre></div>
</div>
</div>
<div class="section" id="included-frameworks-libraries">
<h2>Included frameworks/libraries<a class="headerlink" href="#included-frameworks-libraries" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://mlflow.org/">MLflow</a> as the primary framework for parameter and artifact logging.</p></li>
<li><p><a class="reference external" href="https://xgboost.readthedocs.io">XGBoost</a> as the primary machine learning library.</p></li>
<li><p><a class="reference external" href="https://github.com/mlf-core/system-intelligence">system-intelligence</a> to fetch all hardware related information.</p></li>
<li><p>Preconfigured <a class="reference external" href="https://readthedocs.org/">readthedocs</a></p></li>
<li><p>Five Github workflows:</p></li>
</ol>
<blockquote>
<div><ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">build_docs.yml</span></code>, which builds the readthedocs documentation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">run_flake8_linting.yml</span></code>, which runs <a class="reference external" href="https://flake8.pycqa.org/en/latest/">flake8</a> linting.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pr_to_master_from_patch_release_only.yml</span></code> Please read <a class="reference internal" href="../github_support.html#pr-master-workflow-docs"><span class="std std-ref">pr_to_master_from_patch_release_only workflow</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">train_cpu.yml</span></code>, which trains the model on the CPU for a small number of epochs. Requires the data to be accessible.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sync.yml</span></code>, which checks whether a new version of mlflow-pytorch is available and submits a pull request if so.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">run_mlf_core_lint.yml</span></code>, which runs <code class="docutils literal notranslate"><span class="pre">mlf-core</span> <span class="pre">lint</span></code> to verify that the project adheres to all mlf-core standards.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">run_bandit.yml</span></code>, which runs <a class="reference external" href="https://pypi.org/project/bandit/">Bandit</a> to find any security issues.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">publish_docker.yml</span></code>, which builds and pushes a Docker container to Github Packages</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>It is strongly advised to use Docker to run mlf-core models, since support for other OS besides Linux is limited and dependency management is greatly simplified.</p>
<div class="section" id="building-the-docker-container">
<h3>Building the Docker container<a class="headerlink" href="#building-the-docker-container" title="Permalink to this headline">¶</a></h3>
<p>The name (=tag) of the Docker Container is specified in the MLproject file in <code class="docutils literal notranslate"><span class="pre">image:</span></code>.
If you created your project with mlf-core’s Github support your Docker container should automatically be building in your Github Container Registry.
Furthermore, it should match the name specified in the MLproject file.
If the Docker container is not available in your Github Container Registry for any reason you must build it locally.
Run: <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">build</span> <span class="pre">-t</span> <span class="pre">ghcr.io/GITHUB_USERNAME/PROJECT_SLUG:version</span> <span class="pre">.</span></code>, where <code class="docutils literal notranslate"><span class="pre">PROJECT_SLUG</span></code> is your project’s name and <code class="docutils literal notranslate"><span class="pre">version</span></code> the current project version.
The MLproject file can always be examined to determine the required Docker container tag.</p>
</div>
<div class="section" id="running-the-project-with-docker">
<h3>Running the project with Docker<a class="headerlink" href="#running-the-project-with-docker" title="Permalink to this headline">¶</a></h3>
<p>After having build the Docker container you can now launch your project with <code class="docutils literal notranslate"><span class="pre">mlflow</span> <span class="pre">run</span> <span class="pre">.</span></code>.
The Docker container will automatically spin up.</p>
<p><strong>Note</strong> if you want to run your project with GPU support you must have the <a class="reference external" href="https://github.com/NVIDIA/nvidia-docker">NVIDIA Container Toolkit</a> installed.
Moreover, you need to pass additional Docker runtime arguments e.g. <code class="docutils literal notranslate"><span class="pre">mlflow</span> <span class="pre">run</span> <span class="pre">.</span> <span class="pre">-A</span> <span class="pre">gpus=all</span></code>, which makes all available GPUs accessible to the Docker container.</p>
</div>
<div class="section" id="running-the-project-with-conda">
<h3>Running the project with Conda<a class="headerlink" href="#running-the-project-with-conda" title="Permalink to this headline">¶</a></h3>
<p>Running the project using Conda is possible, but discouraged, since <a class="reference external" href="https://github.com/mlf-core/system-intelligence">system-intelligence</a> currently only really supports Linux.
Comment out <code class="docutils literal notranslate"><span class="pre">docker_env</span></code> and comment in <code class="docutils literal notranslate"><span class="pre">conda_env</span></code>. Now run the project using e.g. <code class="docutils literal notranslate"><span class="pre">mlflow</span> <span class="pre">run</span> <span class="pre">.</span></code>.
GPUs will be automatically be detected and used.</p>
</div>
</div>
<div class="section" id="faq">
<h2>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h2>
<div class="section" id="i-am-using-docker-but-no-gpus-are-used-for-training">
<h3>I am using Docker but no GPUs are used for training!<a class="headerlink" href="#i-am-using-docker-but-no-gpus-are-used-for-training" title="Permalink to this headline">¶</a></h3>
<p>Please ensure that you have CUDA configured, the <a class="reference external" href="https://github.com/NVIDIA/nvidia-docker">NVIDIA Container Toolkit</a> installed and pass <code class="docutils literal notranslate"><span class="pre">-A</span> <span class="pre">gpus=all</span></code> when running the project.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Lukas Heumos

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>